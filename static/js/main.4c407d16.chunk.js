(this.webpackJsonpoption_grapher=this.webpackJsonpoption_grapher||[]).push([[0],{148:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(42),o=a.n(r),i=(a(51),a(24)),s=a.n(i),p=a(43);a(26);class c extends l.a.Component{constructor(e){super(e),this.handleChangeType=e=>{this.setState({style:e.target.value})},this.handleChangeStrategy=e=>{"buy"===e.target.value?e.target.parentElement.parentElement.parentElement.style.border="solid 2px green":e.target.parentElement.parentElement.parentElement.style.border="solid 2px red",this.setState({strategy:e.target.value})},this.handleChangeStrike=e=>{this.setState({strike:e.target.value})},this.handleChangePrice=e=>{this.setState({price:e.target.value})},this.state={id:this.props.id,style:"",strategy:"",strike:"0",price:"0"}}componentDidUpdate(){this.props.handleUpdateOption(this.state.id,this.state)}renderStockOrOption(){return"stock"===this.state.style?l.a.createElement("form",{className:"option_info"},l.a.createElement("div",{className:"option_type"},l.a.createElement("label",null,"Put",l.a.createElement("input",{type:"radio",name:"type",value:"put",onClick:this.handleChangeType})),l.a.createElement("label",null,"Call",l.a.createElement("input",{type:"radio",name:"type",value:"call",onClick:this.handleChangeType})),l.a.createElement("label",null,"Stock",l.a.createElement("input",{type:"radio",name:"type",value:"stock",onClick:this.handleChangeType}))),l.a.createElement("div",{className:"option_strategy"},l.a.createElement("label",null,"Sell",l.a.createElement("input",{type:"radio",name:"strategy",value:"sell",onClick:this.handleChangeStrategy})),l.a.createElement("label",null,"Buy",l.a.createElement("input",{type:"radio",name:"strategy",value:"buy",onClick:this.handleChangeStrategy})))):l.a.createElement("form",{className:"option_info"},l.a.createElement("div",{className:"option_type"},l.a.createElement("label",null,"Put",l.a.createElement("input",{type:"radio",name:"type",value:"put",onClick:this.handleChangeType})),l.a.createElement("label",null,"Call",l.a.createElement("input",{type:"radio",name:"type",value:"call",onClick:this.handleChangeType})),l.a.createElement("label",null,"Stock",l.a.createElement("input",{type:"radio",name:"type",value:"stock",onClick:this.handleChangeType}))),l.a.createElement("div",{className:"option_strategy"},l.a.createElement("label",null,"Sell",l.a.createElement("input",{type:"radio",name:"strategy",value:"sell",onClick:this.handleChangeStrategy})),l.a.createElement("label",null,"Buy",l.a.createElement("input",{type:"radio",name:"strategy",value:"buy",onClick:this.handleChangeStrategy}))),l.a.createElement("label",null,"Strike: ",l.a.createElement("input",{step:"any",type:"number",name:"strike",onChange:this.handleChangeStrike})),l.a.createElement("label",null,"Price: ",l.a.createElement("input",{step:"any",type:"number",name:"price",onChange:this.handleChangePrice})))}render(){return l.a.createElement("div",null,this.renderStockOrOption())}}var h=c,d=a(44);class m extends l.a.Component{constructor(e){super(e),this.handleAddOption=e=>{e.preventDefault();let t=this.state.options.map(e=>e),a=Date.now();t.push(l.a.createElement(h,{id:a,key:a,handleUpdateOption:this.handleUpdateOption}));let n=this.state.optionsData;n.push({id:a}),console.log(n),this.setState({options:t,optionsData:n})},this.handleUpdateOption=(e,t)=>{const a=this.state.optionsData.map(a=>a.id===e?t:a);this.setState({optionsData:a})},this.handleGenChart=e=>{e.preventDefault(),this.fetchPayoff()},this.state={options:[],optionsData:[],payoff:[],chart_data:{labels:Array.from(Array(400).keys()),datasets:[{label:"Option Strategy Payoff Chart",backgroundColor:"rgba(255, 255, 255,1.0)",borderColor:"rgb(0, 135, 34)",pointBackgroundColor:"rgb(0, 135, 34)",data:[]}]},chart_options:{maintainAspectRatio:!1,responsive:!1,scales:{yAxes:[{gridLines:{zeroLineWidth:3,zeroLineColor:"#2C292E"}}]},legend:{display:!0,labels:{fontColor:"rgb(0, 135, 34)"}},tooltips:{mode:"nearest"}}}}fetchPayoff(){var e=this;return Object(p.a)(s.a.mark((function t(){var a,n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={options:e.state.optionsData},n={method:"POST",headers:{"Content-type":"application/json","x-powered-by":"CORS Anywhere"},body:JSON.stringify(a)},t.next=4,fetch("https://cors-anywhere.herokuapp.com/http://ec2-3-91-62-146.compute-1.amazonaws.com/~michaelblau/Options_Grapher/options.php",n).then(e=>e.json()).then(t=>{console.log(t.res),e.setState({chart_data:{labels:Array.from(Array(400).keys()),datasets:[{label:"Option Strategy Payoff Chart",backgroundColor:"rgba(255, 255, 255,1.0)",borderColor:"rgb(0, 135, 34)",fill:"rgb(0, 135, 34)",pointBackgroundColor:"rgb(0, 135, 34)",data:t.res}]}})}).catch(e=>{console.log(e)});case 4:case"end":return t.stop()}}),t)})))()}render(){return l.a.createElement("div",null,l.a.createElement("h1",null,"Option Payoff Grapher"),l.a.createElement("div",{className:"options"},l.a.createElement("button",{id:"add_option",onClick:this.handleAddOption},"Add Option"),l.a.createElement("div",{id:"options_display"},this.state.options)),l.a.createElement("button",{id:"gen_chart",onClick:this.handleGenChart},"Generate Chart"),l.a.createElement("div",{className:"chart-div"},l.a.createElement("div",null,l.a.createElement(d.a,{data:this.state.chart_data,width:900,height:550,options:this.state.chart_options}))))}}var u=m;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(l.a.createElement(u,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},26:function(e,t,a){},46:function(e,t,a){e.exports=a(148)},51:function(e,t,a){}},[[46,1,2]]]);
//# sourceMappingURL=main.4c407d16.chunk.js.map