(this.webpackJsonpoption_grapher=this.webpackJsonpoption_grapher||[]).push([[0],{12:function(e,t,a){},20:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),l=a(1),i=a.n(l),o=(a(12),a(2)),r=a.n(o),h=a(5);a(4);class p extends s.a.Component{constructor(e){super(e),this.setCompColor=e=>{let t=i.a.findDOMNode(this).getElementsByClassName("option_info")[0];t.style.border="sell"===e?"solid 2px red":"solid 2px green"},this.handleChangeType=e=>{this.setState({style:e.target.value})},this.handleChangeStrategy=e=>{this.setCompColor(e.target.value),this.setState({strategy:e.target.value})},this.handleChangeStrike=e=>{let t=Math.trunc(parseInt(e.target.value));!0===isNaN(t)?t="":(t>=400||t<0)&&(alert("Please enter values between 0 and 399"),t=""),this.setState({strike:t})},this.handleChangePrice=e=>{let t="";!1===isNaN(parseInt(e.target.value))&&(t=Math.trunc(parseInt(e.target.value))),this.setState({price:t})},this.handleRemoveOption=e=>{e.preventDefault(),this.props.handleRemoveOption(this.state.id)},this.state={id:this.props.id,style:this.props.style,strategy:this.props.strategy,strike:this.props.strike,price:this.props.price}}componentDidMount(){this.props.handleUpdateOption(this.state.id,this.state),this.setCompColor(this.state.strategy)}componentDidUpdate(){this.props.handleUpdateOption(this.state.id,this.state)}renderStockOrOption(){return"stock"===this.state.style?s.a.createElement("form",{className:"option_info"},s.a.createElement("div",{className:"option_type"},s.a.createElement("label",null,"Put",s.a.createElement("input",{type:"radio",checked:"put"===this.state.style,value:"put",onChange:this.handleChangeType})),s.a.createElement("label",null,"Call",s.a.createElement("input",{type:"radio",checked:"call"===this.state.style,value:"call",onChange:this.handleChangeType})),s.a.createElement("label",null,"Stock",s.a.createElement("input",{type:"radio",checked:"stock"===this.state.style,value:"stock",onChange:this.handleChangeType}))),s.a.createElement("div",{className:"option_strategy"},s.a.createElement("label",null,"Sell",s.a.createElement("input",{type:"radio",checked:"sell"===this.state.strategy,value:"sell",onChange:this.handleChangeStrategy})),s.a.createElement("label",null,"Buy",s.a.createElement("input",{type:"radio",checked:"buy"===this.state.strategy,value:"buy",onChange:this.handleChangeStrategy}))),s.a.createElement("button",{className:"delete",onClick:this.handleRemoveOption},"Delete")):s.a.createElement("form",{className:"option_info"},s.a.createElement("div",{className:"option_type"},s.a.createElement("label",null,"Put",s.a.createElement("input",{type:"radio",checked:"put"===this.state.style,value:"put",onChange:this.handleChangeType})),s.a.createElement("label",null,"Call",s.a.createElement("input",{type:"radio",checked:"call"===this.state.style,value:"call",onChange:this.handleChangeType})),s.a.createElement("label",null,"Stock",s.a.createElement("input",{type:"radio",checked:"stock"===this.state.style,value:"stock",onChange:this.handleChangeType}))),s.a.createElement("div",{className:"option_strategy"},s.a.createElement("label",null,"Sell",s.a.createElement("input",{type:"radio",checked:"sell"===this.state.strategy,value:"sell",onChange:this.handleChangeStrategy})),s.a.createElement("label",null,"Buy",s.a.createElement("input",{type:"radio",checked:"buy"===this.state.strategy,value:"buy",onChange:this.handleChangeStrategy}))),s.a.createElement("label",null,"Strike: ",s.a.createElement("input",{step:"1",type:"number",max:"400",name:"strike",value:this.state.strike,onChange:this.handleChangeStrike})),s.a.createElement("label",null,"Price: ",s.a.createElement("input",{step:"1",type:"number",name:"price",min:"0",value:this.state.price,onChange:this.handleChangePrice})),s.a.createElement("button",{className:"delete",onClick:this.handleRemoveOption},"Delete"))}render(){return s.a.createElement("div",null,this.renderStockOrOption())}}p.defaultProps={style:"put",strategy:"sell",strike:0,price:0};var c=p,d=a(6),u=a.n(d);class m extends s.a.Component{constructor(e){super(e),this.handleAddOption=e=>{e.preventDefault();let t=this.state.options.map(e=>e),a=Date.now();t.push(s.a.createElement(c,{id:a,key:a,handleUpdateOption:this.handleUpdateOption,handleRemoveOption:this.handleRemoveOption}));let n=this.state.optionsData;n.push({id:a}),this.setState({options:t,optionsData:n})},this.handleUpdateOption=(e,t)=>{const a=this.state.optionsData.map(a=>a.id===e?t:a);this.setState({optionsData:a})},this.handleGenChart=e=>{e.preventDefault(),this.fetchPayoff()},this.handleRemoveOption=e=>{const t=this.state.optionsData.filter(t=>t.id!==e?t:0),a=this.state.options.filter(t=>t.props.id!==e?t:0);this.setState({optionsData:t,options:a})},this.state={options:[],optionsData:[],payoff:[]}}fetchPayoff(){var e=this;return Object(h.a)(r.a.mark((function t(){var a,n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={options:e.state.optionsData},n={method:"POST",headers:{"Content-type":"application/json","x-powered-by":"CORS Anywhere"},body:JSON.stringify(a)},t.next=4,fetch("https://cors-anywhere.herokuapp.com/https://6rswc176r1.execute-api.us-east-1.amazonaws.com/default/generateOptionPayoff",n).then(e=>e.json()).then(t=>{console.log(t.res),e.setState({payoff:t.res})}).catch(e=>{console.log(e),alert("An Error Occured Generating Option Payoffs!")});case 4:case"end":return t.stop()}}),t)})))()}render(){return s.a.createElement("div",null,s.a.createElement("h1",null,"Option Payoff Grapher"),s.a.createElement("div",{className:"options"},s.a.createElement("button",{id:"add_option",onClick:this.handleAddOption},"Add Option"),s.a.createElement("div",{id:"options_display"},this.state.options)),s.a.createElement("button",{id:"gen_chart",onClick:this.handleGenChart},"Generate Chart"),s.a.createElement("div",{className:"plot-section"},s.a.createElement(u.a,{id:"chart",className:"plot",data:[{x:Array.from(Array(400).keys()),y:this.state.payoff,type:"scatter",mode:"lines+markers",marker:{color:"green"}}],layout:{width:1100,height:600,title:"Option Payoff Chart"}})))}}var y=m;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(s.a.createElement(y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},4:function(e,t,a){},7:function(e,t,a){e.exports=a(20)}},[[7,1,2]]]);
//# sourceMappingURL=main.fd7d7805.chunk.js.map